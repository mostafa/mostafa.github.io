<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>The Story of Farhang, A Bilingual Dictionary Production System</title>
    <meta name="description"
        content="More than 9 years ago, when I was studying towards a B.A. degree in German Language Translation Studies, I used to know and be a student of a great professor...">

    
    
    <link rel="stylesheet" href="https://mostafa.dev/assets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="canonical" href="https://mostafa.dev/blog/the-story-of-farhang-a-bilingual-dictionary-production-system">
    <link rel="alternate" type="application/rss+xml" title="Welcome To My Blog"
        href="https://mostafa.dev/feed.xml">

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>The Story of Farhang, A Bilingual Dictionary Production System | Welcome To My Blog</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="The Story of Farhang, A Bilingual Dictionary Production System" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Second Version of Farhang Dictionary Production System" />
<meta property="og:description" content="Second Version of Farhang Dictionary Production System" />
<link rel="canonical" href="https://mostafa.dev/blog/the-story-of-farhang-a-bilingual-dictionary-production-system" />
<meta property="og:url" content="https://mostafa.dev/blog/the-story-of-farhang-a-bilingual-dictionary-production-system" />
<meta property="og:site_name" content="Welcome To My Blog" />
<meta property="og:image" content="https://mostafa.dev/img/1*s0zXMPDVM60gfEIkrIQ-zg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-08T00:00:00+01:00" />
<script type="application/ld+json">
{"image":"https://mostafa.dev/img/1*s0zXMPDVM60gfEIkrIQ-zg.png","@type":"BlogPosting","url":"https://mostafa.dev/blog/the-story-of-farhang-a-bilingual-dictionary-production-system","headline":"The Story of Farhang, A Bilingual Dictionary Production System","dateModified":"2019-03-08T00:00:00+01:00","datePublished":"2019-03-08T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mostafa.dev/blog/the-story-of-farhang-a-bilingual-dictionary-production-system"},"description":"Second Version of Farhang Dictionary Production System","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <style>
        body {
            font-family: 'Ubuntu', sans-serif;
            font-size: 16px;
            line-height: 2;
            color: #181818;
            background-color: #fff;
        }

        .subtitle {
            color: rgba(0, 0, 0, 0.54) !important;
        }
    </style>
</head>

  <body>

    <header class="border-bottom-thick px-2 clearfix">
  <div class="left sm-width-full py-1 mt-1 mt-lg-0">
    <a class="align-middle link-primary text-accent" href="/">
      Welcome To My Blog
    </a>
  </div>
  <div class="right sm-width-full">
    <ul class="list-reset mt-lg-1 mb-2 mb-lg-1">
      
        
      
        
        <li class="inline-block">
          <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/about/">
            About
          </a>
        </li>
        
      
        
      
        
      
        
      
    </ul>
  </div>
</header>


    <div>
      <article class="container px-2 mx-auto mb4" itemscope itemtype="http://schema.org/BlogPosting">
    <h1 class="h1 col-9 sm-width-full mt-3 mb-0 pb-0 inline-block" itemprop="name headline">The Story of Farhang, A Bilingual Dictionary Production System</h1>
    
        <h3 class="h3 col-9 sm-width-full mb-0 mt-0 inline-block subtitle" itemprop="name headline">Second Version of Farhang Dictionary Production System
        </h3>
    
    
        <img class="col-12" src=/img/1*s0zXMPDVM60gfEIkrIQ-zg.png/>
    
    <div class="col-3 sm-width-full mt-1 border-top-thin ">
        <p class="mb-3 py-2 h4">
            <time datetime="2019-03-08T00:00:00+01:00" itemprop="datePublished">Mar 8, 2019</time>
        </p>
    </div>

    <div class="prose" itemprop="articleBody">
        <p>More than 9 years ago, when I was studying towards a B.A. degree in German Language Translation Studies, I used to know and be a student of a great professor, <em>Prof. Saied Firuzabadi</em>, at my university, <em>Azad University of Tehran</em>, which is a great author, translator and professor with a big track record of publishing many books and articles.</p>

<p>On the summer of that year, he used to have an extracurricular class for teaching pragmatic translation skills. I just enrolled, since I knew I would learn something great.</p>

<p>On the first day, he told us about his new project and achievement, in which he authored a German-Persian dictionary worth of more than 10,000 A4 papers of handwritten words and meanings.</p>

<p>At that time, his biggest struggle with the work was that he couldn’t find great typists to enter that information into a more manageable, printable format that can be published on paper. He used to tell us about the frustrations he had at that time.</p>

<p>The day after that day, I used to think about ways that this amount of information can be managed. Then I found some pieces of software that can handle that amount.</p>

<p>One of those software was a great proprietary software, <a href="https://www.idmgroup.com/content-management/dps-info.html">IDM DPS</a>. The other was the <a href="http://tshwanedje.com/tshwanelex/">TshwaneLex</a> from TshwaneDJe Software. The former was used by very big dictionary production companies and was a very expensive piece of software. The latter was affordable, but didn’t have great support for right-to-left languages (like Persian) at that time.</p>

<p>It seemed like I should create a custom solution to handle this data entry, typesetting, generating publishing-ready PDFs and so on. What I did was to do minor research on ways to manage these information and transform them into usable formats. This was the start of the story.</p>

<p>The other day I went to the class and told the professor that I have a solution to your data-management problem. He was astounded to hear what I said. I went to the white-board and gave the class a very basic data-entry application sketch that was connected to a SQL database to store and retrieve the information that can later be used. Almost everyone was astounded.</p>

<p>There were two obstacles along the way. The first one was that all that information should be entered into the application manually and the second was the application itself. It must have been developed in a forward-looking way, so that the data could be later used, so we needed to make the data as structured as possible. For the first obstacle, a group of five students volunteered to do the job. The second obstacle should have been handled by me alone.</p>

<p>Later that month, I sketched out a set of UIs for the data-entry application and with the help of great mono- and bi-lingual dictionaries in other languages and by analyzing those dictionaries, I was able to discern the way they separate, label and manage that vast amount of information that at first looked like an unmanageable haystack.</p>

<p>As an avid advocate and user of FOSS software, I used Python, Qt4 and PostgreSQL to design UI and database tables alike. The very first MVP of the application was great enough for data-entry by the team. I was able to cross-compile the application for them since they all were Windows users.</p>

<p>The team managed to do the data-entry using the application. It took around 6 months to finish the “data-entry” job. At the same time, I was trying to devise a solution for generating a PDF that looked like a bilingual dictionary with all the details — CMYK, good quality tables and figures, margins, … — needed for publishing companies to able to consume the PDF and prepare, print and produce the hard-cover version.</p>

<p>I tried different solutions, from generating PDFs using various libraries to producing files that can be read by applications like Adobe InDesign. Almost none of those solutions worked because of the same RTL language problem and the support of them inside those libraries and applications.</p>

<p>Then I came across LaTeX and XeTeX. By creating a somewhat simple class file in TeX, I was able to produce bilingual dictionaries with qualities of those very well-known dictionaries like Cambridge, Oxford, Longman, Duden and Langenscheidt.</p>

<p><img src="/img/1*7_jI1birc8h5A0Ne9UFUQw.png" alt="" />TeX File Used to Produce PDF Output<img src="/img/1*eE-nHeP2LYif-HxFXEGEfQ.png" alt="" />First Page of the Dictionary in PDF (Letter A)The dictionary was typeset with the first version of the Farhang DPS, which was developed on Linux. Later when editing the dictionary, I faced many problems with the SQL approach, then I migrated the data into a document-oriented NoSQL database, MongoDB. This choice allowed me to have a better locality of information inside a document with nested information inside the document itself, thus avoiding SQL JOINS and their constraints.</p>

<p>Also I changed the development environment to use Windows and the Visual Studio. I used C# and MongoDB to develop <a href="https://github.com/mostafa/farhang">the second version of Farhang</a>. I used Mercurial (hg) to do version control on my code which I later migrated the repository into Git, so that I can make it FOSS and publish it on GitHub.</p>

<p><img src="/img/1*s0zXMPDVM60gfEIkrIQ-zg.png" alt="" />Second Version of Farhang DPSIn 2018, the <a href="https://www.langenscheidt.com/deutsch-daf/selbstlernen-woerterbuch/langenscheidt-handwoerterbuch-deutsch-persisch-hardcover">hard-cover version</a> was published by Langenscheidt Verlag in Germany. It is also planned to be published as a Mobile App and hard-cover version in my own country, too. The dictionary is around 2700 pages.</p>

<p>There were days of sweat and tears to review and edit the data and generate new files which were then used by different applications to produce output PDF files, and it was a very painstaking and arduous set of tasks to make all this possible for the language learners and translators to use this treasure to find their ways through the texts.</p>

    </div>

</article>

<div class="container mx-auto px-2 py-2 clearfix">
    <!-- Use if you want to show previous and next for all posts. -->



  <div class="col-4 sm-width-full left mr-lg-4 mt-3">
    <a class="no-underline border-top-thin py-1 block" href="https://mostafa.dev/blog/the-story-of-grest-a-graph-based-restful-api-development-framework">
      <span class="h5 bold text-accent">Previous</span>
      <p class="bold h3 link-primary mb-1">The Story of gREST, A Graph-based Restful API Development Framework</p>
      <p>More than a year ago, I was looking for a framework to build my services with which can support graph-based...</p>
    </a>
  </div>
  
  
  <div class="col-4 sm-width-full left mt-3">
    <a class="no-underline border-top-thin py-1 block" href="https://mostafa.dev/blog/secure-code-review-and-penetration-testing-of-node-js-and-javascript-apps">
      <span class="h5 bold text-accent">Next</span>
      <p class="bold h3 link-primary mb-1">Secure Code Review and Penetration Testing of Node.js and JavaScript Apps</p>
      <p>Security is an illusion and being secure is a relative matter. This means you should always have an eye on...</p>
    </a>
  </div>


</div>
    </div>

    <div class="border-top-thin clearfix mt-2 mt-lg-4">
  <div class="container mx-auto px-2">
    <p class="col-8 sm-width-full left py-2 mb-0">This project is maintained by <a class="text-accent" href="https://github.com/mostafa">mostafa</a></p>
    <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
      <li class="inline-block mr-1">
        <a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="Welcome To My Blog">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </li>
      <li class="inline-block">
        <a class="github-button" href="https://github.com/mostafa/" data-icon="octicon-star" data-count-href="mostafa//stargazers" data-count-api="/repos/mostafa/#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star mostafa/ on GitHub">Star</a>
      </li>
    </ul>
  </div>
</div>


  </body>

</html>
